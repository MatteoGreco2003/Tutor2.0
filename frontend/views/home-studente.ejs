<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profilo Studente</title>
    <link rel="stylesheet" href="css/home-studente.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
  </head>
  <body>
    <!-- Header -->
    <div class="header">
      <div class="header-left">
        <a
          href="/home-studenti"
          class="user-icon"
          style="text-decoration: none; color: inherit"
          >üë§</a
        >
        <a
          href="/home-studenti"
          class="header-title"
          style="text-decoration: none; color: inherit"
          >Nome e Cognome</a
        >
      </div>
      <button class="logout-btn">Disconnettiti</button>
    </div>

    <!-- Main Container -->
    <div class="container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <a href="/home-studenti" class="sidebar-item active" data-page="home"
          >üè† Home</a
        >
        <a href="/profilo-studente" class="sidebar-item">üë§ Profilo Studente</a>
        <a href="/subject" class="sidebar-item">‚ûï Aggiungi Materie</a>
        <div class="sidebar-item">üìö Media Materie</div>
        <div class="sidebar-footer">
          <div class="sidebar-button">
            <button class="delete-btn">üóëÔ∏è Elimina profilo</button>
          </div>
          <div class="outro">
            <p>
              Powered by
              <a href="https://www.toptutor.it/" target="_blank">toptutor.it</a>
            </p>
          </div>
          <div class="sidebar-socials">
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-facebook"></i></a>
          </div>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Verifiche Section -->
        <div class="section">
          <div class="section-header">
            <h2 class="section-title">Storico verifiche</h2>
          </div>

          <div class="verifiche-list" id="verificheList">
            <div class="empty-state">
              <i class="fas fa-inbox"></i>
              <p>Nessuna verifica registrata</p>
            </div>
          </div>

          <button class="add-btn" id="addVerificaBtn">
            <i class="fas fa-plus"></i> Inserisci una verifica
          </button>
        </div>

        <!-- Calendario Section -->
        <div class="calendar-section">
          <div class="calendar-header">
            <h3 class="section-title">Calendario verifiche</h3>
            <div class="calendar-nav">
              <button id="prevMonthBtn" aria-label="Mese precedente">
                &lt;
              </button>
              <span id="currentMonth" class="current-month">NOVEMBRE 2025</span>
              <button id="nextMonthBtn" aria-label="Mese successivo">
                &gt;
              </button>
            </div>
          </div>

          <div class="calendar-wrapper">
            <table class="calendar" id="calendarTable">
              <!-- Generato da JavaScript -->
            </table>
          </div>
        </div>
      </main>
    </div>

    <!-- Modale Elimina Profilo (nascosta inizialmente) -->
    <div id="deleteProfileModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeDeleteProfile">&times;</span>
        <h2>Elimina profilo</h2>
        <p>
          Sei sicuro di eliminare il tuo profilo?<br />
          Una volta selezionato <b>Elimina comunque</b> non sarai pi√π in grado
          di recuperare il tuo storico verifiche e le tue informazioni.
        </p>
        <div style="display: flex; gap: 14px; margin-top: 20px">
          <button
            id="confirmDeleteProfile"
            class="delete-btn"
            style="margin: 0"
          >
            Elimina comunque
          </button>
          <button id="cancelDeleteProfile" class="btn-annulla">Annulla</button>
        </div>
      </div>
    </div>

    <!-- Modale Inserisci Verifica -->
    <div id="insertVerificaModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeInsertVerifica">&times;</span>
        <h2>Inserisci una verifica</h2>
        <form id="insertVerificaForm" novalidate>
          <div style="margin-bottom: 16px">
            <label for="verificaData">Giorno</label>
            <div style="display: flex; align-items: center; gap: 8px">
              <input
                type="text"
                id="verificaData"
                name="verificaData"
                required
                autocomplete="off"
                readonly
                style="flex: 1"
              />
            </div>
          </div>

          <div style="margin-bottom: 16px">
            <label for="materia">Materia</label>
            <select id="materia" name="materia" size="4" required></select>
          </div>

          <div style="margin-bottom: 16px">
            <label for="argomento"
              >Descrivi l'argomento (max 500 caratteri)</label
            >
            <textarea
              id="argomento"
              name="argomento"
              maxlength="500"
              rows="4"
            ></textarea>
          </div>

          <div style="margin-bottom: 12px">
            <label for="valutazione" style="font-size: 15px; font-weight: 500"
              >Valutazione</label
            >
            <select id="valutazione" name="valutazione">
              <option value="" selected disabled>Seleziona il voto</option>
              <option value="10">0</option>
              <option value="9">1</option>
              <option value="8">2</option>
              <option value="7">3</option>
              <option value="6">4</option>
              <option value="5">5</option>
              <option value="4">6</option>
              <option value="4">7</option>
              <option value="4">8</option>
              <option value="4">9</option>
              <option value="4">10</option>
            </select>
            <div style="margin-top: 8px">
              <input type="checkbox" id="previsto" name="previsto" />
              <label for="previsto" style="font-size: 14px">
                Non ho ancora il voto
              </label>
            </div>
          </div>

          <div style="display: flex; gap: 14px; margin-top: 20px">
            <button type="submit" class="plan-btn" style="margin: 0">
              Pianifica
            </button>
            <button type="button" class="btn-annulla" id="annullaVerifica">
              Annulla
            </button>
          </div>
        </form>
      </div>
    </div>
  </body>

  <script src="/js/api.js"></script>
  <!--? serve per mandare il jwt -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/it.js"></script>

  <script src="/js/home-studente.js"></script>
  <script src="/js/calendario.js"></script>
</html>
